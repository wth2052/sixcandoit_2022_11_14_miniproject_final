# sixcandoit_2022_11_14_miniproject_final
# ìŠ¤íŒŒë¥´íƒ€ ë‚´ì¼ë°°ì›€ìº í”„ íŒ€(6 CAN DO IT!) ì†Œê°œ ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ ê²°ê³¼ë¬¼
* * * 
* ğŸ‘€ í”„ë¡œì íŠ¸ ì™„ì„±ë³¸ ê¸°ìˆ  ì‹œì—° https://wth2052.tistory.com/48
* ğŸ‘€ ìµœì¢… í”„ë¡œì íŠ¸ KPT íšŒê³  https://wth2052.tistory.com/52
* * *

## 1. í”„ë¡œì íŠ¸ ì œëª© ë° ì„¤ëª…

- í”„ë¡œì íŠ¸ ì œëª©: 6ìº”ë‘ì‡(6(=YOU) CAN DO IT)
- ì„¤ëª…: ê°œë°œì˜ 'ã„±'ìë„ ëª¨ë¥´ë˜ ì‚¬ëŒë“¤ì´ 'ê²€ìƒ‰ë§Œ í•˜ë©´ ì½”ë”©í•  ìˆ˜ ìˆì–´'ë¼ëŠ” ë§ˆìŒê°€ì§ìœ¼ë¡œ, ìê¸°ì£¼ë„ì  í•™ìŠµì„ í†µí•´ í›Œë¥­í•œ ê°œë°œìë¡œ ì„±ì¥í•˜ê³  ì‹¶ë‹¤ëŠ” í¬ë¶€ë¥¼ ì†Œê°œí•˜ëŠ” í˜ì´ì§€
- ì´ ê°œë°œ ì¸ì›: 5ëª… (ìš°íƒœí˜„(íŒ€ì¥), í™©ë¯¼ì£¼, í•œë™ì£¼, ê¹€í˜•ì„­, ì´ë™í˜¸)
- ê°œë°œ ê¸°ê°„: 2022.11.14~2022.11.18 (ì´ 5ì¼)

## 2. ì™€ì´ì–´ í”„ë ˆì„

- ì´ 1í˜ì´ì§€ë¡œ êµ¬ì„±
- íŒ€ì› ì†Œê°œëŠ” ê° íŒ€ì› ì¹´ë“œë¥¼ ëˆŒë €ì„ ë•Œ ëª¨ë‹¬ì°½ìœ¼ë¡œ êµ¬í˜„

**[1. íŒ€ ì†Œê°œ í˜ì´ì§€ (1ì°¨ ì´ˆì•ˆ)]**

![https://velog.velcdn.com/images/jiumn/post/cda0f4b8-316c-433b-a5cf-63f751455c8b/image.png](https://velog.velcdn.com/images/jiumn/post/cda0f4b8-316c-433b-a5cf-63f751455c8b/image.png)

**(êµ¬ì„± ë‚´ìš©)**

- íŒ€ëª…
- ìš°ë¦¬ íŒ€ë§Œì˜ íŠ¹ì§•ê³¼ ì¶”êµ¬í•˜ëŠ” ê¶ê·¹ì ì¸ ëª©í‘œ
- ìš°ë¦¬ íŒ€ì˜ ì•½ì†
- íŒ€ì› ì†Œê°œ
- ìš°ë¦¬ íŒ€ì˜ ë²„í‚·ë¦¬ìŠ¤íŠ¸

**[1. íŒ€ ì†Œê°œ í˜ì´ì§€ (ìµœì¢…)]**

![ì œëª©ì—†ìŒ.png](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcQtYiR%2FbtrRGvG8wX9%2FG69DkjtFndtmayHp8dQoPK%2Fimg.png)

 **(ë³€ê²½ ì‚¬í•­)**

- íŒ€ëª…
- ìš°ë¦¬ íŒ€ë§Œì˜ íŠ¹ì§•ê³¼ ì¶”êµ¬í•˜ëŠ” ê¶ê·¹ì ì¸ ëª©í‘œ
- ìš°ë¦¬ íŒ€ì˜ ì•½ì†
- íŒ€ì› ì†Œê°œ â†’ íŒ€ì› ì¹´ë“œì˜ ë””ìì¸ì„ ê¸°ì¡´ 2ë‹¨ â†’ 1ë‹¨ìœ¼ë¡œ ë°°ì¹˜í•˜ê³  ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ íŒ€ì› ì´ë¯¸ì§€ê°€ ê°•ì¡°ë˜ëŠ” íš¨ê³¼ë¥¼ ì¶”ê°€
- ìš°ë¦¬ íŒ€ì˜ ë²„í‚·ë¦¬ìŠ¤íŠ¸

**[2. ëª¨ë‹¬ì°½ (íŒ€ì› ì¹´ë“œ í´ë¦­ ì‹œ ì´ë™í•˜ëŠ” í˜ì´ì§€)]**

![https://velog.velcdn.com/images/jiumn/post/00c6e554-df32-4678-9e09-ea5644518137/image.png](https://velog.velcdn.com/images/jiumn/post/00c6e554-df32-4678-9e09-ea5644518137/image.png)

**(êµ¬ì„± ë‚´ìš©)**

- ì‚¬ì§„
- ëª©í‘œ, í‚¤ì›Œë“œ, ì´ë¦„, MBTI, ë¸”ë¡œê·¸ ì£¼ì†Œ
- ê°ê´€ì ìœ¼ë¡œ ì‚´í´ë³¸ ë‚˜ì˜ ì¥ì 
- í˜‘ì—…ì„ í•˜ëŠ” ê³¼ì •ì—ì„œì˜ ìì‹ ì˜ ìŠ¤íƒ€ì¼
- ë§ˆë¬´ë¦¬ í•œë§ˆë””
- ê°œì¸ ë°©ëª…ë¡ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸° â†’ 1ì°¨ ì™„ì„± í›„ ë°©ëª…ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ì„ ì¶”ê°€ â†’ ê°œì¸ ë°©ëª…ë¡ì„ íŒ€ ë°©ëª…ë¡ìœ¼ë¡œ ë³€ê²½

## 3. ê°œë°œí•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ë“¤

| ê¸°ëŠ¥ | Method | URL | Request | Response |
| --- | --- | --- | --- | --- |
| ë‚ ì”¨ ë¶ˆëŸ¬ì˜¤ê¸° | GET | api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API key} | - | {
"coord":{"lon":126.9068,"lat":37.5292},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"base":"stations","main":{"temp":283.23,"feels_like":282.43,"temp_min":281.05,"temp_max":285.09,"pressure":1028,"humidity":82},"visibility":6000,"wind":{"speed":0.51,"deg":240},"clouds":{"all":6},"dt":1668735978,"sys":{"type":1,"id":8105,"country":"KR","sunrise":1668723287,"sunset":1668759622},"timezone":32400,"id":1837055,"name":"Yongsan","cod":200
} |
| ë²„í‚· ë¦¬ìŠ¤íŠ¸ ì €ì¥ | POST | /bucket | {
'num' : count,
'bucket':bucket_receive,
'done' :0
} | {
'msg': 'ë“±ë¡ ì™„ë£Œ!'
} |
| ë²„í‚· ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° | GET | /bucket | find({}, {'_id': False} | {'buckets': bucket_list} |
| ë²„í‚· ë¦¬ìŠ¤íŠ¸ ì™„ë£Œí•˜ê¸° | POST | /bucket/done | {
â€™numâ€™: int(num_receive)},
{â€™$setâ€™: {â€™doneâ€™: 1}
} | {
â€™msgâ€™: â€˜ë²„í‚· ì™„ë£Œ!â€™
) |
| íŒ€ ë°©ëª…ë¡ ì €ì¥í•˜ê¸° | GET | /member/guestbook | {
 'name': name_receive,
 'comment': comment_receive
} | {
'msg':'ì‘ì›ëŒ“ê¸€ ì‘ì„± ì™„ë£Œ'
} |
| íŒ€ ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ê¸° | POST | /member/guestbook | find({})) | {
'comments': comment_list
} |
| íŒ€ ë°©ëª…ë¡ ìˆ˜ì •í•˜ê¸° | PUT | /member/guestbook/<id> | {
'_id': ObjectId(id)}, {'$set': {'name': name_receive}
}
{
'_id': ObjectId(id)}, {'$set': {'comment': comment_receive}
} | {
â€™msgâ€™: â€˜ìˆ˜ì • ì™„ë£Œ!â€™
} |
| íŒ€ ë°©ëª…ë¡ ì‚­ì œí•˜ê¸° | DELETE | /member/guestbook/<id> | {
'_id': ObjectId(id)
} | {
â€™msgâ€™: â€˜ì‚­ì œ ì™„ë£Œ!â€™
} |

## 4. ì‚¬ìš© ê¸°ìˆ  ìŠ¤íƒ

- Front : HTML, CSS, Javascript, Bootstrap
- Back : JavaScript, Python, Flask, MongoDB
- Server : AWS, Linux, EC2

## 5. ì‘ì—… íˆìŠ¤í† ë¦¬

- 2022.11.14
    - ì™€ì´ì–´í”„ë ˆì„ 1ì°¨ ì‘ì„± ì™„ë£Œ
    - SA ì‘ì„± ì™„ë£Œ
    - íŒ€ ì†Œê°œ(ë©”ì¸) í˜ì´ì§€ ì‘ì—… ì‹œì‘
- 2022.11.15
    - íŒ€ ì†Œê°œ(ë©”ì¸) í˜ì´ì§€ ì‘ì—… ì™„ë£Œ
    - íŒ€ì› ì†Œê°œ í˜ì´ì§€(ëª¨ë‹¬ì°½) ì‘ì—… ì‹œì‘
- 2022.11.16
    - íŒ€ì› ì†Œê°œ í˜ì´ì§€ ì‘ì—… ì™„ë£Œ

- 2022.11.17
    - ê°œì¸ ë°©ëª…ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€ ì‘ì—… ì‹œì‘ â†’ íŒ€ ë°©ëª…ë¡ìœ¼ë¡œ ë³€ê²½
    - ì ‘ì†í•œ ì‚¬ëŒì˜ í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ
    - ë°©ëª…ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€ ì™„ë£Œ
    
- 2022.11.18
    - ë²„í‚·ë¦¬ìŠ¤íŠ¸, ë°©ëª…ë¡ ê³µë°± ì…ë ¥ ì‹œ ì–¼ëŸ¿ì°½ ë…¸ì¶œ ì¶”ê°€ ì™„ë£Œ
    - íŒ€ ì†Œê°œ í˜ì´ì§€ ì™„ì„±

## 6. íšŒê³ 

**1) ê°œë°œì„ ì§„í–‰í•˜ë©´ì„œ ì–´ë ¤ì› ë˜ ì **

- ì ‘ì†í•œ ì‚¬ëŒì˜ í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°
- ë°©ëª…ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€
- ë²„í‚·ë¦¬ìŠ¤íŠ¸, ë°©ëª…ë¡ ê³µë°± ì…ë ¥ ì‹œ ì–¼ëŸ¿ì°½ ë…¸ì¶œ ì¶”ê°€
- ê° íŒ€ì› ì†Œê°œ ëª¨ë‹¬ì°½ì—ì„œ ê°œì¸ ë°©ëª…ë¡ì„ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥ êµ¬í˜„ ì‹œ, Restfulí•œ APIë¥¼ ì‘ì„±

**2) í•´ê²°í•œ ë‚´ìš©**

- ì ‘ì†í•œ ì‚¬ëŒì˜ í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°

```jsx
//ë°œì „ì‚¬í•­ : ì„œìš¸ APIë§Œ ë°›ì•„ì˜¤ë˜ê²ƒì´ ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ë„ì™€ ê²½ë„ë¥¼ ë°›ì•„ì˜¨ í›„
    //          HTMLì— ìœ„ë„ì™€ ê²½ë„(ë‘ë²ˆì§¸ ìë¦¬ê¹Œì§€), ë‚ ì§œ ì•„ì´ì½˜(ë‚ ì§œì— ë”°ë¼ ë³€í•¨), ìœ„ì¹˜(ì˜ì–´ë¡œ ì¶œë ¥),
    //          í˜„ì¬ ìœ„ì¹˜ ì˜¨ë„(í™”ì”¨ì™€ ì„­ì”¨ë¡œ ì¶œë ¥, ì†Œìˆ«ì  2ë²ˆì§¸ ìë¦¬ê¹Œì§€, ì„­ì”¨ëŠ” 1ë²ˆì§¸ìë¦¬ê¹Œì§€)
    //ë‚ ì”¨ ì •ë³´ ì–»ê¸°
    //í˜„ì¬ ìœ„ë„ ê²½ë„ë¡œ ìœ„ì¹˜ì¡ì•„ì£¼ê³  ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ ê°’ ì¶œë ¥
        function showLocation(event) {
          var latitude = event.coords.latitude
          var longitude = event.coords.longitude
document.querySelector("#latitude").textContent =Math.round(latitude *100) / 100
document.querySelector("#longitude").textContent =Math.round(longitude *100) / 100

        //ìœ„ë„ì™€ ê²½ë„ë¥¼ ì¶”ê°€í•˜ì—¬ weatherUrlì´ ë°”ë€Œë¯€ë¡œ ì‚¬ìš©ìì˜ ì§€ì—­ì— ë”°ë¼ ì„œë¡œ ë‹¤ë¥¸ ê°’ ì¶œë ¥
        //ìœ„ë„ì™€ ê²½ë„ì— ë”°ë¥¸ ì¢…ì†ë³€ìˆ˜ #ì•ì˜ ê°’ì—ë”°ë¼ ë³€í•˜ëŠ” ë³€ìˆ˜ë“¤
          let apiKey = "c9094277ce42cae0392ac8222a2dd1f2"
          let weatherUrl = "https://api.openweathermap.org/data/2.5/weather?lat=" + latitude
                        + "&lon=" + longitude
                        + "&appid=" + apiKey;
//api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API key}
            let options = { method: 'GET' }
          $.ajax(weatherUrl, options).then((response) => {
console.log(response)
              let icon = response.weather[0].icon
              let iconUrl = "http://openweathermap.org/img/wn/" + icon + "@2x.png"
              let img =document.querySelector("#wicon")
              let name = response.name
              img.src = iconUrl
document.querySelector("#temp").textContent =  /*"(" +*/Math.round((response.main.temp - 273)*10) / 10 +"Â°C"/*+ ")"*/ //+ (response.main.temp)+"Â°F"  í™”ì”¨ê¹Œì§€ ë„ìš°ê¸°  // í˜„ì¬ ì˜¨ë„
document.querySelector("#name").textContent = name
            }).catch((error) => {
console.log(error)
            })
        }

        function showError(event) {
          alert("ìœ„ì¹˜ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        }

window.addEventListener('load', () => {
          if(window.navigator.geolocation) {
window.navigator.geolocation.getCurrentPosition(showLocation,showError)
          }
        })
```

- ë°©ëª…ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€

```python
@app.route("/member/guestbook/<id>", methods=["PUT"])
def member_update(id):
    name_receive = request.form['name_receive']
    comment_receive = request.form['comment_receive']
    db.guestbook.update_one({'_id': ObjectId(id)}, {'$set': {'name': name_receive}})
    db.guestbook.update_one({'_id': ObjectId(id)}, {'$set': {'comment': comment_receive}})
    return jsonify({'msg': 'ìˆ˜ì • ì™„ë£Œ!'})
```

```python
@app.route("/member/guestbook/<id>", methods=["DELETE"])
def member_delete(id):
    db.guestbook.delete_one({'_id': ObjectId(id)})
    return jsonify({'msg': 'ì‚­ì œ ì™„ë£Œ!'})
```

```jsx
function update_member(id) {
    //alert(id) ì •ìƒì²˜ëŸ¼ ë°›ì•„ì˜¤ë©´ JSì—ëŠ” ë¬¸ì œê°€ ì—†ëŠ”ê²ƒ
    let name = $('#name').val()
    let comment = $('#comment').val()
            $.ajax({
        type: "PUT",
        url: `/member/guestbook/${id}`,
        data: {
            name_receive: name,
            comment_receive: comment,
        },
        success: function (response) {
            alert(response["msg"])
window.location.reload()
        }
    });
}
function delete_member(id) {
    $.ajax({
        type: "DELETE",
        url: `/member/guestbook/${id}`,
        data: {},
        success: function (response) {
            alert(response["msg"])
window.location.reload()
        }
    });
}
```

- ë²„í‚·ë¦¬ìŠ¤íŠ¸, ë°©ëª…ë¡ ê³µë°± ì…ë ¥ ì‹œ ì–¼ëŸ¿ì°½ ë…¸ì¶œ ì¶”ê°€

```jsx
function save_bucket() {
    let bucket = $('#bucket').val()
    bucket = bucket.replaceAll(" ", '')
		if (bucket == "") {
        return alert("ê³µë°±ì€ í—ˆìš© ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
    }
```

```jsx
function save_comment() {
    let name = $('#name').val()
    let comment = $('#comment').val()
		name = name.replaceAll(" ", '')
		if (name == "" || comment == "") {
        return alert("ê³µë°±ì€ í—ˆìš© ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
    }
```

**3) í•´ê²°í•˜ì§€ ëª»í•œ ê²ƒ**

- ê° íŒ€ì› ì†Œê°œ ëª¨ë‹¬ì°½ì—ì„œ ê°œì¸ ë°©ëª…ë¡ì„ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥ êµ¬í˜„ ì‹œ, Restfulí•œ APIë¥¼ ì‘ì„±í•˜ì§€ ëª»í•¨ â†’ ê°œì¸ ë°©ëª…ë¡ì´ ì•„ë‹Œ íŒ€ ë°©ëª…ë¡ìœ¼ë¡œ ëŒ€ì²´
